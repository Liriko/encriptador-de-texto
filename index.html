<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="reset.css">
		<link rel="stylesheet" href="style.css">
        <title>Encriptador de texto</title>
    </head>
    <body>
        <header>
        </header>
        <main>
            <div>
                <textarea name="mensaje-entrada" id="m-entrada" cols="30" rows="10" placeholder="Ingrese el texto aquí"></textarea>
            </div>
            <div>
                <button>Encriptar</button>
                <button>Desencriptar</button>
            </div>
            <div>
                <textarea name="mensaje-salida" cols="30" rows="10"></textarea>
            </div>
        </main>
        <footer>
        </footer>
    </body>
</html>
<script>

    function esValido(texto){

    let respuesta = true;
    let ascii;
    const textoDescompuesto = descomponerTexto(texto);

    // validar mayúsculas y carácteres especiales
    for(let i = 0; i < textoDescompuesto.length; i++){
        if(textoDescompuesto[i] != " "){
            if(textoDescompuesto[i] === textoDescompuesto[i].toUpperCase())
                respuesta = false;
            ascii = textoDescompuesto[i].charCodeAt(0);
            if(ascii < 64 && ascii > 91)
                respuesta = false;
        }
    }

    return respuesta;
    }

    function encriptarTexto(texto){

        if(esValido(texto)){
            texto = texto.replaceAll("e", "enter");
            texto = texto.replaceAll("o", "ober");
            texto = texto.replaceAll("u", "uaft");
            texto = texto.replaceAll("i", "imes");
            texto = texto.replaceAll("a", "ai");
        } else
            texto = "Texto inválido";
        
        return texto;
    }

    function desencriptarTexto(texto){

        texto = texto.replaceAll("enter", "e"); 
        texto = texto.replaceAll("ober", "o");
        texto = texto.replaceAll("uaft", "u");
        texto = texto.replaceAll("imes", "i");
        texto = texto.replaceAll("ai", "a");

        return texto;
    }

    function descomponerTexto(texto){
        return texto.split('');
    }
</script>
